// Code generated by configgen. DO NOT EDIT.


package {{ .Package }}


import (
"gopkg.in/yaml.v3"
)


{{/* Top-level Config type */}}
type Config struct {
{{- range $i, $k := .Keys }}
{{ $field := index $.Fields $k }}
{{ $name := $field.Name }} {{ if eq $field.Kind 4 }}{{ $name }} {{ else }}{{ GoType $field }} {{ end }} `yaml:"{{ $field.YAMLName }}"`
{{- end }}
}


{{/* Render nested structs */}}
{{- range $i, $k := .Keys }}
{{- $f := index $.Fields $k }}
{{- if eq $f.Kind 4 }}


type {{ $f.Name }} struct {
{{- $keys := keys $f.Children }}
{{- range $j, $kk := $keys }}
{{ $cf := index $f.Children $kk }}
{{ $cname := $cf.Name }} {{ if eq $cf.Kind 4 }}{{ $cname }}{{ else }}{{ GoType $cf }}{{ end }} `yaml:"{{ $cf.YAMLName }}"`
{{- end }}
}
{{- end }}
{{- end }}


// LoadFromYAML unmarshals YAML bytes into Config
func LoadFromYAML(b []byte) (*Config, error) {
var cfg Config
if err := yaml.Unmarshal(b, &cfg); err != nil {
return nil, err
}
return &cfg, nil
}